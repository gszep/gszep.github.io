---
interface Props {
  title: string;
  description: string;
  image: string;
  href: string;
  imagePosition?: string;
}

const { title, description, image, href, imagePosition = '50% 50%' } = Astro.props;
---

<a href={href} class="group block bg-white dark:bg-black border border-gray-200 dark:border-gray-800 overflow-hidden w-full sm:w-[calc(50%-0.5rem)] lg:w-[calc(33.333%-0.7rem)]">
  <div class="aspect-[3/1] overflow-hidden">
    {image.endsWith('.mp4') ? (
      <video
        src={image}
        autoplay
        loop
        muted
        playsinline
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
        style={`object-position: ${imagePosition}`}
      />
    ) : (
      <img
        src={image}
        alt=""
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
        style={`object-position: ${imagePosition}`}
      />
    )}
  </div>
  <div class="p-4">
    <h3 class="text-gray-900 dark:text-white font-bold text-lg" set:html={title} />
    <p class="text-gray-600 dark:text-gray-400 text-sm mt-1 line-clamp-2">{description}</p>
  </div>
</a>
